apply plugin: 'java'

dependencies {
    compile project(':scheduler')
    compile project(':executor')


    testCompile 'junit:junit:4.11'
    testCompile 'com.github.docker-java:docker-java:1.3.0'
    testCompile 'com.mashape.unirest:unirest-java:1.4.5'
    testCompile 'com.jayway.awaitility:awaitility:1.6.3'
//    testCompile 'org.apache.commons-lang:commons-lang:2.6'
    testCompile 'com.github.ContainerSolutions:mini-mesos:e0021ade99fb570d1771ca6721ab812d40cfa033'
}



task systemTest(type: Test) {
    include '**/*SystemTest*'
    testLogging {
        showStandardStreams = true
    }
    outputs.upToDateWhen { false }

    jvmArgs "-Djava.library.path=/usr/local/lib"
}


// bring up the cluster before tests
systemTest.dependsOn project(':executor').buildDockerImage

